# 激光大冒险100 - 最终关卡设计方案

## 一、核心机制

### 激光分类
| 类型 | 视觉 | 作用 | 规则 |
|------|------|------|------|
| **关键激光** | 🔴 红色脉冲边框 | 必经之路 | 必须穿越，形成"门" |
| **辅助激光** | 普通颜色 | 增加困扰 | 可绕过，但增加难度 |

### 关卡进度
- 每10关一个**构型变化**
- 40关后**难度持续提升**（速度、数量、大小）
- 100关达到极限

---

## 二、10关为一个阶段的设计

### 阶段1：基础防线（1-10关）
**构型：直线防线**
```
起点 → ═══关键1═══ → ═══关键2═══ → 终点
       [辅助1]      [辅助2]
```
- 2-3道关键激光（横向）
- 2-3道辅助激光（可绕过）
- 画布大小：600x400
- 切换速度：慢（1500ms+）

**游戏性：**
- 学习"等待-冲刺"基础节奏
- 辅助激光训练观察和走位

---

### 阶段2：分支选择（11-20关）
**构型：双路径分支**
```
起点 → ═══关键1═══ → 分支点
                     ├─→ 短路径(危险) ──→ ═══关键2═══ → 终点
                     └─→ 长路径(安全) ──→ ═══关键2═══ → 终点
```
- 2道关键激光
- 5-6道辅助激光布置在分支上
- 引入"风险 vs 收益"选择

**游戏性：**
- 玩家需要评估风险
- 短路径：辅助激光多但快
- 长路径：辅助激光少但慢

---

### 阶段3：环形迷宫（21-30关）
**构型：单环必须绕行**
```
        ═══关键1═══
       ╱           ╲
起点 ──┐           ┌── 终点
      │ [辅助障碍] │
      │           │
       ╲═══关键2═══╱
```
- 2-3道关键激光形成环形
- 必须绕环一周才能到终点
- 6-8道辅助激光在环上

**游戏性：**
- 不能直线冲刺
- 必须走完整个环
- 辅助激光增加绕行难度

---

### 阶段4：多层结构（31-40关）
**构型：层间关键激光**
```
起点
│
╠══════关键1══════╣ ← 进入第1层
│    [第1层迷宫]   │
│    [辅助激光]    │
╠══════关键2══════╣ ← 进入第2层
│    [第2层迷宫]   │
│    [辅助激光]    │
╠══════关键3══════╣ ← 出口
│
终点
```
- 3道关键激光分隔3层
- 每层内部有迷宫和辅助激光
- 每层大小逐渐增加

**游戏性：**
- checkpoint机制
- 每层是一个小挑战
- 必须逐层突破

---

## 三、40关后持续提升（41-100关）

### 41-60关：动态元素
- **关键激光开始移动**（慢速平移）
- 辅助激光数量增加到10-12道
- 画布扩大到 700x450
- 切换速度加快（1200ms）

### 61-80关：极限挑战
- **关键激光快速移动** + **变色切换**
- 出现"伪关键激光"（看起来像关键但实际可绕）
- 画布 800x500
- 切换速度 1000ms

### 81-100关：大师模式
- **关键激光组合**：必须连续穿越2-3道才能算过一道
- 辅助激光也形成小迷宫
- 画布 900x550
- 切换速度 800ms
- 随机元素增加

---

## 四、难度参数表

| 关卡 | 关键激光 | 辅助激光 | 构型 | 画布大小 | 切换速度 | 特殊 |
|------|---------|---------|------|---------|---------|------|
| 1-10 | 2-3 | 2-3 | 直线 | 600x400 | 1500ms | - |
| 11-20 | 2 | 5-6 | 分支 | 600x400 | 1400ms | - |
| 21-30 | 2-3 | 6-8 | 环形 | 650x420 | 1300ms | - |
| 31-40 | 3 | 8-10 | 多层 | 650x420 | 1200ms | - |
| 41-60 | 3 | 10-12 | 动态 | 700x450 | 1100ms | 激光移动 |
| 61-80 | 3-4 | 12-14 | 极限 | 800x500 | 1000ms | 快速移动+变色 |
| 81-100 | 4 | 14-16 | 大师 | 900x550 | 800ms | 组合激光 |

---

## 五、关键激光生成规则

### 必须满足
1. 关键激光必须完整贯穿（横向或纵向）
2. 关键激光必须形成"门"结构
3. 必须经过所有关键激光才能到达终点
4. 关键激光必须有开启时间窗口

### 关键激光类型
```javascript
// 横向关键激光（门）
new Laser(x, y, width, 5, type, interval, offset);
// 纵向关键激光（门）
new Laser(x, y, 5, height, type, interval, offset);
```

---

## 六、视觉设计

### 关键激光
- 红色发光边框
- 脉冲动画（比辅助激光更明显）
- 开启时：红色实心
- 关闭时：深红色虚线（仍可辨认是关键激光）

### 辅助激光
- 普通颜色（橙/黄/绿/蓝）
- 无特殊边框
- 开启时：实心
- 关闭时：半透明虚线

---

这个设计方案是否完整可行？